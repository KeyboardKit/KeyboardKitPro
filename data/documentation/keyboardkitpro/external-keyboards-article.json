{"seeAlsoSections":[{"anchor":"Articles","generated":true,"identifiers":["doc:\/\/com.keyboardkit.KeyboardKitPro\/documentation\/KeyboardKitPro\/Actions-Article","doc:\/\/com.keyboardkit.KeyboardKitPro\/documentation\/KeyboardKitPro\/AI-Article","doc:\/\/com.keyboardkit.KeyboardKitPro\/documentation\/KeyboardKitPro\/App-Article","doc:\/\/com.keyboardkit.KeyboardKitPro\/documentation\/KeyboardKitPro\/Autocomplete-Article","doc:\/\/com.keyboardkit.KeyboardKitPro\/documentation\/KeyboardKitPro\/Callouts-Article","doc:\/\/com.keyboardkit.KeyboardKitPro\/documentation\/KeyboardKitPro\/Device-Article","doc:\/\/com.keyboardkit.KeyboardKitPro\/documentation\/KeyboardKitPro\/Dictation-Article","doc:\/\/com.keyboardkit.KeyboardKitPro\/documentation\/KeyboardKitPro\/Emojis-Article","doc:\/\/com.keyboardkit.KeyboardKitPro\/documentation\/KeyboardKitPro\/Feedback-Article","doc:\/\/com.keyboardkit.KeyboardKitPro\/documentation\/KeyboardKitPro\/Gestures-Article","doc:\/\/com.keyboardkit.KeyboardKitPro\/documentation\/KeyboardKitPro\/Host-Article","doc:\/\/com.keyboardkit.KeyboardKitPro\/documentation\/KeyboardKitPro\/Input-Article","doc:\/\/com.keyboardkit.KeyboardKitPro\/documentation\/KeyboardKitPro\/Layout-Article","doc:\/\/com.keyboardkit.KeyboardKitPro\/documentation\/KeyboardKitPro\/Localization-Article","doc:\/\/com.keyboardkit.KeyboardKitPro\/documentation\/KeyboardKitPro\/Navigation-Article"],"title":"Articles"}],"variants":[{"paths":["\/documentation\/keyboardkitpro\/external-keyboards-article"],"traits":[{"interfaceLanguage":"swift"}]},{"paths":["\/documentation\/keyboardkitpro\/external-keyboards-article"],"traits":[{"interfaceLanguage":"occ"}]}],"identifier":{"url":"doc:\/\/com.keyboardkit.KeyboardKitPro\/documentation\/KeyboardKitPro\/External-Keyboards-Article","interfaceLanguage":"swift"},"metadata":{"role":"article","title":"External Keyboards","images":[{"identifier":"Page.png","type":"card"}],"modules":[{"name":"KeyboardKitPro"}],"roleHeading":"Article"},"sections":[],"hierarchy":{"paths":[["doc:\/\/com.keyboardkit.KeyboardKitPro\/documentation\/KeyboardKitPro"]]},"abstract":[{"text":"This article describes the KeyboardKit external keyboard engine.","type":"text"}],"kind":"article","schemaVersion":{"patch":0,"major":0,"minor":3},"primaryContentSections":[{"content":[{"type":"heading","anchor":"overview","text":"Overview","level":2},{"type":"paragraph","inlineContent":[{"type":"text","text":"Keyboard extensions start to behave strangely when you type on an external keyboard. For instance, the keyboard extension will stop receiving information about when text changes, and will only update the context when the text cursor moves."}]},{"type":"paragraph","inlineContent":[{"text":"ðŸ‘‘ ","type":"text"},{"isActive":true,"type":"reference","identifier":"https:\/\/github.com\/KeyboardKit\/KeyboardKitPro"},{"text":" unlocks tools that help you easily detect if an external keyboard is connected to the device, for instance if a magic keyboard is connected to an iPad. Information about Pro features can be found further down.","type":"text"}]},{"type":"heading","anchor":"Workarounds","text":"Workarounds","level":2},{"type":"paragraph","inlineContent":[{"type":"text","text":"One way to force the proxy to update is to move the text cursor with a fixed interval, to make the keyboard read the current text. This may however interfere with the typing, so itâ€™s not encouraged."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Due to this limitation, it may be better to collapse the keyboard to a compact toolbar when an external keyboard is connected. You can always add a button that expands the keyboard again."}]},{"type":"heading","anchor":"How-to-auto-collapse-the-software-keyboard","text":"How to auto-collapse the software keyboard","level":2},{"type":"paragraph","inlineContent":[{"text":"The ","type":"text"},{"isActive":true,"identifier":"doc:\/\/com.keyboardkit.KeyboardKitPro\/documentation\/KeyboardKitPro\/KeyboardContext","type":"reference"},{"text":"â€™s ","type":"text"},{"isActive":true,"identifier":"doc:\/\/com.keyboardkit.KeyboardKitPro\/documentation\/KeyboardKitPro\/KeyboardContext\/isKeyboardCollapsed","type":"reference"},{"text":" property can be used to collapse the keyboard, e.g. when an external keyboard is connected. KeyboardKit Pro will automatically update this if ","type":"text"},{"isActive":true,"identifier":"doc:\/\/com.keyboardkit.KeyboardKitPro\/documentation\/KeyboardKitPro\/KeyboardSettings\/isKeyboardAutoCollapseEnabled","type":"reference"},{"text":" is enabled.","type":"text"}]},{"type":"paragraph","inlineContent":[{"identifier":"doc:\/\/com.keyboardkit.KeyboardKitPro\/documentation\/KeyboardKitPro\/KeyboardView","isActive":true,"type":"reference"},{"type":"text","text":" lets you define which view to show when itâ€™s collapsed. It defaults to a "},{"identifier":"doc:\/\/com.keyboardkit.KeyboardKitPro\/documentation\/KeyboardKitPro\/Keyboard\/CollapsedView","isActive":true,"type":"reference"},{"type":"text","text":". This can be used to display custom content when the keyboard is collapsed. See the "},{"identifier":"doc:\/\/com.keyboardkit.KeyboardKitPro\/documentation\/KeyboardKitPro\/Essentials-Article","isActive":true,"type":"reference"},{"type":"text","text":" article for more information."}]},{"type":"heading","anchor":"How-to-manage-external-keyboard-state","text":"How to manage external keyboard state","level":2},{"type":"paragraph","inlineContent":[{"text":"KeyboardKit has an ","type":"text"},{"isActive":true,"type":"reference","identifier":"doc:\/\/com.keyboardkit.KeyboardKitPro\/documentation\/KeyboardKitPro\/ExternalKeyboardContext"},{"text":" that has state for if an external keyboard is connected, such as a Smart Keyboard Folio, a Magic Keyboard, any Bluetooth keyboards, etc.","type":"text"}]},{"type":"paragraph","inlineContent":[{"text":"KeyboardKit Pro will automatically keep this context up to date when an external keyboard is connected and disconnected. Without it, you must listen for connection changes yourself and update this context accordingly.","type":"text"}]},{"type":"thematicBreak"},{"type":"heading","anchor":"%F0%9F%91%91-KeyboardKit-Pro","text":"ðŸ‘‘ KeyboardKit Pro","level":2},{"type":"paragraph","inlineContent":[{"text":"KeyboardKit Pro will automatically keep the ","type":"text"},{"isActive":true,"type":"reference","identifier":"doc:\/\/com.keyboardkit.KeyboardKitPro\/documentation\/KeyboardKitPro\/ExternalKeyboardContext"},{"text":" up to date when an external keyboard is connected and disconnected. Without it, you must listen for connection changes yourself and update this context accordingly.","type":"text"}]},{"type":"aside","name":"Warning","style":"warning","content":[{"type":"paragraph","inlineContent":[{"text":"KeyboardKit Pro will consider an Apple Smart Keyboard Folio to be connected even when itâ€™s just snapped on to the device and not being actively used. This should be improved.","type":"text"}]}]}],"kind":"content"}],"references":{"doc://com.keyboardkit.KeyboardKitPro/documentation/KeyboardKitPro/Emojis-Article":{"url":"\/documentation\/keyboardkitpro\/emojis-article","identifier":"doc:\/\/com.keyboardkit.KeyboardKitPro\/documentation\/KeyboardKitPro\/Emojis-Article","title":"Emojis","role":"article","kind":"article","images":[{"identifier":"Page.png","type":"card"}],"type":"topic","abstract":[{"text":"This article describes the KeyboardKit emoji engine.","type":"text"}]},"doc://com.keyboardkit.KeyboardKitPro/documentation/KeyboardKitPro/Keyboard/CollapsedView":{"navigatorTitle":[{"text":"CollapsedView","kind":"identifier"}],"identifier":"doc:\/\/com.keyboardkit.KeyboardKitPro\/documentation\/KeyboardKitPro\/Keyboard\/CollapsedView","role":"symbol","abstract":[{"text":"This view can be used to render a collapsed keyboard,","type":"text"},{"text":" ","type":"text"},{"text":"e.g. when an external keyboard is connected.","type":"text"}],"title":"Keyboard.CollapsedView","url":"\/documentation\/keyboardkitpro\/keyboard\/collapsedview","kind":"symbol","fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"CollapsedView","kind":"identifier"}],"type":"topic"},"doc://com.keyboardkit.KeyboardKitPro/documentation/KeyboardKitPro/Essentials-Article":{"url":"\/documentation\/keyboardkitpro\/essentials-article","kind":"article","role":"article","identifier":"doc:\/\/com.keyboardkit.KeyboardKitPro\/documentation\/KeyboardKitPro\/Essentials-Article","title":"Essentials","type":"topic","abstract":[{"type":"text","text":"This article describes the essential parts of KeyboardKit."}],"images":[{"type":"card","identifier":"Page.png"}]},"doc://com.keyboardkit.KeyboardKitPro/documentation/KeyboardKitPro/ExternalKeyboardContext":{"url":"\/documentation\/keyboardkitpro\/externalkeyboardcontext","abstract":[{"text":"This context can be used to keep track of if an external","type":"text"},{"text":" ","type":"text"},{"text":"keyboard is connected to the device.","type":"text"}],"identifier":"doc:\/\/com.keyboardkit.KeyboardKitPro\/documentation\/KeyboardKitPro\/ExternalKeyboardContext","fragments":[{"text":"class","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"ExternalKeyboardContext"}],"navigatorTitle":[{"kind":"identifier","text":"ExternalKeyboardContext"}],"kind":"symbol","type":"topic","title":"ExternalKeyboardContext","role":"symbol"},"doc://com.keyboardkit.KeyboardKitPro/documentation/KeyboardKitPro/KeyboardContext":{"type":"topic","kind":"symbol","url":"\/documentation\/keyboardkitpro\/keyboardcontext","role":"symbol","navigatorTitle":[{"kind":"identifier","text":"KeyboardContext"}],"identifier":"doc:\/\/com.keyboardkit.KeyboardKitPro\/documentation\/KeyboardKitPro\/KeyboardContext","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"KeyboardContext"}],"title":"KeyboardContext","abstract":[{"type":"text","text":"This class has observable states and persistent settings"},{"type":"text","text":" "},{"type":"text","text":"for the core keyboard functionality."}]},"doc://com.keyboardkit.KeyboardKitPro/documentation/KeyboardKitPro/Feedback-Article":{"kind":"article","abstract":[{"type":"text","text":"This article describes the KeyboardKit feedback engine."}],"url":"\/documentation\/keyboardkitpro\/feedback-article","role":"article","title":"Feedback","identifier":"doc:\/\/com.keyboardkit.KeyboardKitPro\/documentation\/KeyboardKitPro\/Feedback-Article","images":[{"identifier":"Page.png","type":"card"}],"type":"topic"},"doc://com.keyboardkit.KeyboardKitPro/documentation/KeyboardKitPro/Actions-Article":{"images":[{"type":"card","identifier":"Page.png"}],"abstract":[{"type":"text","text":"This article describes the KeyboardKit action engine."}],"identifier":"doc:\/\/com.keyboardkit.KeyboardKitPro\/documentation\/KeyboardKitPro\/Actions-Article","role":"article","url":"\/documentation\/keyboardkitpro\/actions-article","kind":"article","title":"Actions","type":"topic"},"doc://com.keyboardkit.KeyboardKitPro/documentation/KeyboardKitPro/Localization-Article":{"images":[{"type":"card","identifier":"Page.png"}],"url":"\/documentation\/keyboardkitpro\/localization-article","role":"article","type":"topic","identifier":"doc:\/\/com.keyboardkit.KeyboardKitPro\/documentation\/KeyboardKitPro\/Localization-Article","abstract":[{"text":"This article describes the KeyboardKit localization engine.","type":"text"}],"title":"Localization","kind":"article"},"doc://com.keyboardkit.KeyboardKitPro/documentation/KeyboardKitPro/Callouts-Article":{"abstract":[{"text":"This article describes the KeyboardKit callout engine.","type":"text"}],"title":"Callouts","type":"topic","identifier":"doc:\/\/com.keyboardkit.KeyboardKitPro\/documentation\/KeyboardKitPro\/Callouts-Article","role":"article","images":[{"identifier":"Page.png","type":"card"}],"url":"\/documentation\/keyboardkitpro\/callouts-article","kind":"article"},"Page.png":{"variants":[{"url":"\/images\/com.keyboardkit.KeyboardKitPro\/Page.png","traits":["1x","light"]}],"type":"image","alt":"Page icon","identifier":"Page.png"},"doc://com.keyboardkit.KeyboardKitPro/documentation/KeyboardKitPro/KeyboardSettings/isKeyboardAutoCollapseEnabled":{"type":"topic","abstract":[{"type":"text","text":"Whether to auto-collapse the keyboard when an external keyboard is connected."}],"identifier":"doc:\/\/com.keyboardkit.KeyboardKitPro\/documentation\/KeyboardKitPro\/KeyboardSettings\/isKeyboardAutoCollapseEnabled","title":"isKeyboardAutoCollapseEnabled","url":"\/documentation\/keyboardkitpro\/keyboardsettings\/iskeyboardautocollapseenabled","kind":"symbol","role":"symbol","fragments":[{"text":"var","kind":"keyword"},{"text":" ","kind":"text"},{"text":"isKeyboardAutoCollapseEnabled","kind":"identifier"},{"text":": ","kind":"text"},{"text":"Bool","preciseIdentifier":"s:Sb","kind":"typeIdentifier"}]},"doc://com.keyboardkit.KeyboardKitPro/documentation/KeyboardKitPro/Input-Article":{"kind":"article","title":"Input","abstract":[{"text":"This article describes the KeyboardKit input engine.","type":"text"}],"url":"\/documentation\/keyboardkitpro\/input-article","identifier":"doc:\/\/com.keyboardkit.KeyboardKitPro\/documentation\/KeyboardKitPro\/Input-Article","type":"topic","role":"article","images":[{"type":"card","identifier":"Page.png"}]},"doc://com.keyboardkit.KeyboardKitPro/documentation/KeyboardKitPro/Autocomplete-Article":{"role":"article","type":"topic","kind":"article","title":"Autocomplete","url":"\/documentation\/keyboardkitpro\/autocomplete-article","abstract":[{"text":"This article describes the KeyboardKit autocomplete engine.","type":"text"}],"images":[{"identifier":"Page.png","type":"card"}],"identifier":"doc:\/\/com.keyboardkit.KeyboardKitPro\/documentation\/KeyboardKitPro\/Autocomplete-Article"},"doc://com.keyboardkit.KeyboardKitPro/documentation/KeyboardKitPro/Dictation-Article":{"kind":"article","type":"topic","role":"article","identifier":"doc:\/\/com.keyboardkit.KeyboardKitPro\/documentation\/KeyboardKitPro\/Dictation-Article","url":"\/documentation\/keyboardkitpro\/dictation-article","images":[{"identifier":"Page.png","type":"card"}],"title":"Dictation","abstract":[{"text":"This article describes the KeyboardKit dictation engine.","type":"text"}]},"doc://com.keyboardkit.KeyboardKitPro/documentation/KeyboardKitPro/App-Article":{"images":[{"identifier":"Page.png","type":"card"}],"type":"topic","role":"article","url":"\/documentation\/keyboardkitpro\/app-article","title":"App Utilities","abstract":[{"text":"This article describes the KeyboardKit app-specific utilities.","type":"text"}],"identifier":"doc:\/\/com.keyboardkit.KeyboardKitPro\/documentation\/KeyboardKitPro\/App-Article","kind":"article"},"doc://com.keyboardkit.KeyboardKitPro/documentation/KeyboardKitPro/Host-Article":{"title":"Host Application","identifier":"doc:\/\/com.keyboardkit.KeyboardKitPro\/documentation\/KeyboardKitPro\/Host-Article","images":[{"type":"card","identifier":"Page.png"}],"kind":"article","role":"article","type":"topic","abstract":[{"text":"This article describes how KeyboardKit Pro can identify and use the host application.","type":"text"}],"url":"\/documentation\/keyboardkitpro\/host-article"},"doc://com.keyboardkit.KeyboardKitPro/documentation/KeyboardKitPro/Navigation-Article":{"role":"article","images":[{"identifier":"Page.png","type":"card"}],"identifier":"doc:\/\/com.keyboardkit.KeyboardKitPro\/documentation\/KeyboardKitPro\/Navigation-Article","kind":"article","type":"topic","abstract":[{"text":"This article describes the KeyboardKit navigation engine.","type":"text"}],"url":"\/documentation\/keyboardkitpro\/navigation-article","title":"Navigation"},"doc://com.keyboardkit.KeyboardKitPro/documentation/KeyboardKitPro":{"type":"topic","title":"KeyboardKitPro","role":"collection","abstract":[{"text":"KeyboardKit helps you create fully customizable keyboard extensions, using Swift and SwiftUI.","type":"text"}],"identifier":"doc:\/\/com.keyboardkit.KeyboardKitPro\/documentation\/KeyboardKitPro","kind":"symbol","url":"\/documentation\/keyboardkitpro"},"doc://com.keyboardkit.KeyboardKitPro/documentation/KeyboardKitPro/KeyboardContext/isKeyboardCollapsed":{"role":"symbol","type":"topic","abstract":[{"type":"text","text":"Whether the keyboard is collapsed."}],"url":"\/documentation\/keyboardkitpro\/keyboardcontext\/iskeyboardcollapsed","kind":"symbol","identifier":"doc:\/\/com.keyboardkit.KeyboardKitPro\/documentation\/KeyboardKitPro\/KeyboardContext\/isKeyboardCollapsed","title":"isKeyboardCollapsed","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"isKeyboardCollapsed"},{"kind":"text","text":": "},{"kind":"typeIdentifier","preciseIdentifier":"s:Sb","text":"Bool"}]},"doc://com.keyboardkit.KeyboardKitPro/documentation/KeyboardKitPro/KeyboardView":{"abstract":[{"type":"text","text":"This view can be used to mimic a native iOS keyboard."}],"role":"symbol","identifier":"doc:\/\/com.keyboardkit.KeyboardKitPro\/documentation\/KeyboardKitPro\/KeyboardView","kind":"symbol","type":"topic","title":"KeyboardView","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"KeyboardView"}],"navigatorTitle":[{"kind":"identifier","text":"KeyboardView"}],"url":"\/documentation\/keyboardkitpro\/keyboardview"},"doc://com.keyboardkit.KeyboardKitPro/documentation/KeyboardKitPro/Device-Article":{"url":"\/documentation\/keyboardkitpro\/device-article","abstract":[{"text":"This article describes the KeyboardKit device utilities.","type":"text"}],"images":[{"identifier":"Page.png","type":"card"}],"title":"Device Utilities","identifier":"doc:\/\/com.keyboardkit.KeyboardKitPro\/documentation\/KeyboardKitPro\/Device-Article","role":"article","kind":"article","type":"topic"},"doc://com.keyboardkit.KeyboardKitPro/documentation/KeyboardKitPro/Layout-Article":{"role":"article","abstract":[{"text":"This article describes the KeyboardKit layout engine.","type":"text"}],"images":[{"identifier":"Page.png","type":"card"}],"url":"\/documentation\/keyboardkitpro\/layout-article","title":"Layout","kind":"article","identifier":"doc:\/\/com.keyboardkit.KeyboardKitPro\/documentation\/KeyboardKitPro\/Layout-Article","type":"topic"},"https://github.com/KeyboardKit/KeyboardKitPro":{"titleInlineContent":[{"text":"KeyboardKit Pro","type":"text"}],"identifier":"https:\/\/github.com\/KeyboardKit\/KeyboardKitPro","url":"https:\/\/github.com\/KeyboardKit\/KeyboardKitPro","type":"link","title":"KeyboardKit Pro"},"doc://com.keyboardkit.KeyboardKitPro/documentation/KeyboardKitPro/Gestures-Article":{"title":"Gestures","images":[{"identifier":"Page.png","type":"card"}],"type":"topic","url":"\/documentation\/keyboardkitpro\/gestures-article","abstract":[{"type":"text","text":"This article describes the KeyboardKit gesture engine."}],"kind":"article","identifier":"doc:\/\/com.keyboardkit.KeyboardKitPro\/documentation\/KeyboardKitPro\/Gestures-Article","role":"article"},"doc://com.keyboardkit.KeyboardKitPro/documentation/KeyboardKitPro/AI-Article":{"role":"article","type":"topic","identifier":"doc:\/\/com.keyboardkit.KeyboardKitPro\/documentation\/KeyboardKitPro\/AI-Article","title":"AI Support","abstract":[{"text":"This article describes the KeyboardKit AI support capabilities.","type":"text"}],"url":"\/documentation\/keyboardkitpro\/ai-article","kind":"article","images":[{"identifier":"Page.png","type":"card"}]}},"variantOverrides":[{"patch":[{"op":"replace","path":"\/identifier\/interfaceLanguage","value":"occ"},{"op":"add","path":"\/topicSections","value":null},{"op":"replace","path":"\/seeAlsoSections","value":[{"generated":true,"title":"Articles","identifiers":["doc:\/\/com.keyboardkit.KeyboardKitPro\/documentation\/KeyboardKitPro\/Actions-Article","doc:\/\/com.keyboardkit.KeyboardKitPro\/documentation\/KeyboardKitPro\/AI-Article","doc:\/\/com.keyboardkit.KeyboardKitPro\/documentation\/KeyboardKitPro\/App-Article","doc:\/\/com.keyboardkit.KeyboardKitPro\/documentation\/KeyboardKitPro\/Autocomplete-Article","doc:\/\/com.keyboardkit.KeyboardKitPro\/documentation\/KeyboardKitPro\/Callouts-Article","doc:\/\/com.keyboardkit.KeyboardKitPro\/documentation\/KeyboardKitPro\/Device-Article","doc:\/\/com.keyboardkit.KeyboardKitPro\/documentation\/KeyboardKitPro\/Dictation-Article","doc:\/\/com.keyboardkit.KeyboardKitPro\/documentation\/KeyboardKitPro\/Emojis-Article","doc:\/\/com.keyboardkit.KeyboardKitPro\/documentation\/KeyboardKitPro\/Feedback-Article","doc:\/\/com.keyboardkit.KeyboardKitPro\/documentation\/KeyboardKitPro\/Gestures-Article","doc:\/\/com.keyboardkit.KeyboardKitPro\/documentation\/KeyboardKitPro\/Host-Article","doc:\/\/com.keyboardkit.KeyboardKitPro\/documentation\/KeyboardKitPro\/Input-Article","doc:\/\/com.keyboardkit.KeyboardKitPro\/documentation\/KeyboardKitPro\/Layout-Article","doc:\/\/com.keyboardkit.KeyboardKitPro\/documentation\/KeyboardKitPro\/Localization-Article","doc:\/\/com.keyboardkit.KeyboardKitPro\/documentation\/KeyboardKitPro\/Navigation-Article"],"anchor":"Articles"}]}],"traits":[{"interfaceLanguage":"occ"}]}]}